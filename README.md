# cocktail_qr
## Предназначение
Приложение по имеющимся ингредиентам осуществляет поиск вариантов приготовления алкогольного коктейля. 
Вариант отображения коктейля можно выбрать самостоятельно. Рецепт особо любознательные могут сохранить себе в виде `qr-code` и отправить любимым.
Для особо желающих можно узнать, в какую цену обойдётся приобретение в алкомаркетах Москвы одного экземпляра ингредиента коктейля, но это не точно. 

## Основные возможности
1. Возможно загрузить документ с рецептами в векторное хранилище
2. В настоящий момент поиск коктейлей ведётся по книге `Мастер шейков и «Маргариты». Коктейли для запойных читателей` Тима Федерле
3. Для поиска можно указать имеющиеся на кухне ~~в заначке~~ ингредиенты
4. Использование многоязычной модели эмбеддингов `paraphrase-multilingual-mpnet-base-v2` для улучшенного поиска рецептов
5. Агент LLM (используется модель `gpt-3.5-turbo`) осуществляет подбор коктейлей по имеющимся ингредиентам
6. Отображение ответа рецептов коктейлей в выбранном стиле
7. Ответ синтезируется в речь методом синхронного синтеза
8. Используется синхронный подход, поскольку при этом блокируется выполнение программы до завершения запроса, что опосредованно влияет на расход дорогостоящих токенов.
9. Сохранение рецепта в виде `QR-code`, чтобы можно было показать в магазине

## Предварительные шаги при развёртывании
Перед использованием необходимо в корневой директории создать файл utils.key и поместить в него ключи от `OpenAI` и `huggingFace` в формате:
    
    OPENAI_API_KEY = ключ
    HUGGINGFACEHUB_API_TOKEN = ключ
    SBER_API_KEY = ключ_авторизации

## Требования к системе
- Python 3.12+
- Установленные зависимости из requirements.txt:
  - langchain и связанные пакеты
  - beautifulsoup4
  - sentence-transformers
  - faiss-cpu
  - unstructured
  - pypandoc
  - transformers
  - requests

## Стили отображения рецептов
Доступны следующие стили вывода рецептов:
1. Стиль космического ужаса (Г.Ф. Лавкрафт)
2. Гопническо-быдляцкий жаргон
3. Экспериментальный стиль У. Берроуза
4. Классический стиль (по умолчанию)

## Структура проекта
- `models/` - основные модели и логика приложения
- `docs/` - документация и файлы с рецептами
- `data/` - векторное хранилище и другие данные
- `utils.py` - вспомогательные функции

## Планируемые улучшения
1. Выбор LLM-модели
2. Поиск по конкретным магазам на районе 
3. Интеграция с картой
4. Подсчёт суммы приготовления коктейля
5. Поиск только по выбранным ингредиентам
6. Совсем после осуществление поиска по карте за денежку

## Лицензия
Проект распространяется под лицензией MIT. Подробности в файле LICENSE.